digraph {
    subgraph cluster_mental_states {
        label = "Mental States";
        shape = oval;
        "Beliefs";
        "Goals";
        "Intentions";
    }

    subgraph cluster_knowledge_respository {
        label = "Knowledge Repository";
        "Belief Rules";
        "Norm Rules";
        "Policy Rules";
        "Contract Rules";
        "Desire Rules";
        "Intention Rules";
        "Plan Rules";
    }
    subgraph process {
        "Environment Perceiving";
        "Belief Revision";
        "Goal Generation";
        "Intention Maintenance";
        "Plan Execution";
        "Environment Modifying";
        "Environment Information" [shape = oval];
    }

    node [shape = rectangle];

    "Environment Perceiving" -> "Belief Revision" -> "Goal Generation" -> "Intention Maintenance" -> "Plan Execution";
    "Plan Execution" -> "Environment Modifying" -> "Environment Information" -> "Environment Perceiving";

    "Belief Rules" -> "Belief Revision" -> "Beliefs";
    {"Norm Rules" "Policy Rules" "Contract Rules" "Desire Rules"} -> "Goal Generation" -> "Goals";
    "Intention Rules" -> "Intention Maintenance" -> "Intentions";
    "Plan Rules" -> "Plan Execution";
}
