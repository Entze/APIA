Graphviz figures:
  image: alpine
  script:
    - apk add make graphviz
    - make build-graphviz

  artifacts:
    paths:
      - 'Figures/**/*.pdf'

PlantUML figures:
  image:
    name: think/plantuml
    entrypoint:
      - ''
  script:
    - apk add make
    - make build-plantuml

  artifacts:
    paths:
      - 'Figures/**/*.pdf'

SVG figures:
  image: alpine:3.12
  script:
    - apk update
    - apk add make inkscape
    - make build-svg
  artifacts:
    paths:
      - 'Figures/**/*.pdf'

PDF:
  image: blang/latex:ctanfull
  needs:
    - PlantUML figures
    - Graphviz figures
    - SVG figures
  script:
    - latexmk -pdf

  artifacts:
    paths:
      - '*.pdf'
